typedef bool = 0 .. 1 ;
typedef pid = 0 .. 2 ;
GAL lamport_2 {
	array [3] P_start_1 = (0, 1, 1) ;
	array [3] P_x = (1, 0, 0) ;
	array [3] P_y = (1, 0, 0) ;
	array [6] P_b = (0, 0, 1, 0, 1, 0) ;
	array [3] P_setx_3 = (0, 0, 0) ;
	array [3] P_setbi_5 = (0, 0, 0) ;
	array [3] P_ify0_4 = (0, 0, 0) ;
	array [3] P_sety_9 = (0, 0, 0) ;
	array [3] P_ifxi_10 = (0, 0, 0) ;
	array [3] P_setbi_11 = (0, 0, 0) ;
	array [3] P_fordo_12 = (0, 0, 0) ;
	array [9] P_wait = (0, 0, 0, 0, 0, 0, 0, 0, 0) ;
	array [3] P_await_13 = (0, 0, 0) ;
	array [9] P_done = (0, 0, 0, 0, 0, 0, 0, 0, 0) ;
	array [3] P_ifyi_15 = (0, 0, 0) ;
	array [3] P_awaity = (0, 0, 0) ;
	array [3] P_CS_21 = (0, 0, 0) ;
	array [3] P_setbi_24 = (0, 0, 0) ;

	transition T_setbi_2 (bool $bi, pid $i) [P_b [$i * 2 + $bi] >= 1 && P_start_1 [$i] >= 1] {
		P_b [$i * 2 + $bi] = P_b [$i * 2 + $bi] - 1 ;
		P_start_1 [$i] = P_start_1 [$i] - 1 ;
		P_b [$i * 2 + 1] = P_b [$i * 2 + 1] + 1 ;
		P_setx_3 [$i] = P_setx_3 [$i] + 1 ;
	}

	transition T_setx_3 (pid $x, pid $i) [P_x [$x] >= 1 && P_setx_3 [$i] >= 1] {
		P_x [$x] = P_x [$x] - 1 ;
		P_setx_3 [$i] = P_setx_3 [$i] - 1 ;
		P_ify0_4 [$i] = P_ify0_4 [$i] + 1 ;
		P_x [$i] = P_x [$i] + 1 ;
	}

	transition T_yne0_4 (pid $i, pid $y) [$y != 0 && P_ify0_4 [$i] >= 1 && P_y [$y] >= 1] {
		P_ify0_4 [$i] = P_ify0_4 [$i] - 1 ;
		P_setbi_5 [$i] = P_setbi_5 [$i] + 1 ;
	}

	transition T_setbi_5 (bool $bi, pid $i) [P_setbi_5 [$i] >= 1 && P_b [$i * 2 + $bi] >= 1] {
		P_setbi_5 [$i] = P_setbi_5 [$i] - 1 ;
		P_b [$i * 2 + $bi] = P_b [$i * 2 + $bi] - 1 ;
		P_awaity [$i] = P_awaity [$i] + 1 ;
		P_b [$i * 2 + 0] = P_b [$i * 2 + 0] + 1 ;
	}

	transition T_awaity (pid $i) [P_awaity [$i] >= 1 && P_y [0] >= 1] {
		P_awaity [$i] = P_awaity [$i] - 1 ;
		P_start_1 [$i] = P_start_1 [$i] + 1 ;
	}

	transition T_yeq0_4 (pid $i) [P_y [0] >= 1 && P_ify0_4 [$i] >= 1] {
		P_ify0_4 [$i] = P_ify0_4 [$i] - 1 ;
		P_sety_9 [$i] = P_sety_9 [$i] + 1 ;
	}

	transition T_sety_9 (pid $i, pid $y) [P_y [$y] >= 1 && P_sety_9 [$i] >= 1] {
		P_y [$y] = P_y [$y] - 1 ;
		P_sety_9 [$i] = P_sety_9 [$i] - 1 ;
		P_ifxi_10 [$i] = P_ifxi_10 [$i] + 1 ;
		P_y [$i] = P_y [$i] + 1 ;
	}

	transition T_xnei_10 (pid $x, pid $i) [$x != $i && P_ifxi_10 [$i] >= 1 && P_x [$x] >= 1] {
		P_ifxi_10 [$i] = P_ifxi_10 [$i] - 1 ;
		P_setbi_11 [$i] = P_setbi_11 [$i] + 1 ;
	}

	transition T_setbi_11 (bool $bi, pid $i) [P_setbi_11 [$i] >= 1 && P_b [$i * 2 + $bi] >= 1] {
		P_setbi_11 [$i] = P_setbi_11 [$i] - 1 ;
		P_b [$i * 2 + $bi] = P_b [$i * 2 + $bi] - 1 ;
		P_fordo_12 [$i] = P_fordo_12 [$i] + 1 ;
		P_b [$i * 2 + 0] = P_b [$i * 2 + 0] + 1 ;
	}

	transition T_fordo_12 (pid $i) [P_fordo_12 [$i] >= 1] {
		P_fordo_12 [$i] = P_fordo_12 [$i] - 1 ;
		P_await_13 [$i] = P_await_13 [$i] + 1 ;
		P_wait [$i * 3 + 2] = P_wait [$i * 3 + 2] + 1 ;
		P_wait [$i * 3 + 1] = P_wait [$i * 3 + 1] + 1 ;
	}

	transition T_await_13 (pid $j, pid $i) [P_await_13 [$i] >= 1 && P_b [$j * 2 + 0] >= 1 && P_wait [$i * 3 + $j] >= 1] {
		P_wait [$i * 3 + $j] = P_wait [$i * 3 + $j] - 1 ;
		P_done [$i * 3 + $j] = P_done [$i * 3 + $j] + 1 ;
	}

	transition T_forod_13 (pid $i) [P_await_13 [$i] >= 1 && P_done [$i * 3 + 2] >= 1 && P_done [$i * 3 + 1] >= 1] {
		P_await_13 [$i] = P_await_13 [$i] - 1 ;
		P_done [$i * 3 + 1] = P_done [$i * 3 + 1] - 1 ;
		P_done [$i * 3 + 2] = P_done [$i * 3 + 2] - 1 ;
		P_ifyi_15 [$i] = P_ifyi_15 [$i] + 1 ;
	}

	transition T_ynei_15 (pid $i, pid $y) [$i != $y && P_ifyi_15 [$i] >= 1 && P_y [$y] >= 1] {
		P_ifyi_15 [$i] = P_ifyi_15 [$i] - 1 ;
		P_awaity [$i] = P_awaity [$i] + 1 ;
	}

	transition T_yeqi_15 (pid $i, pid $y) [$i == $y && P_y [$y] >= 1 && P_ifyi_15 [$i] >= 1] {
		P_ifyi_15 [$i] = P_ifyi_15 [$i] - 1 ;
		P_CS_21 [$i] = P_CS_21 [$i] + 1 ;
	}

	transition T_xeqi_10 (pid $x, pid $i) [$i == $x && P_x [$x] >= 1 && P_ifxi_10 [$i] >= 1] {
		P_ifxi_10 [$i] = P_ifxi_10 [$i] - 1 ;
		P_CS_21 [$i] = P_CS_21 [$i] + 1 ;
	}

	transition T_sety0_23 (pid $i, pid $y) [P_CS_21 [$i] >= 1 && P_y [$y] >= 1] {
		P_CS_21 [$i] = P_CS_21 [$i] - 1 ;
		P_y [$y] = P_y [$y] - 1 ;
		P_y [0] = P_y [0] + 1 ;
		P_setbi_24 [$i] = P_setbi_24 [$i] + 1 ;
	}

	transition T_setbi_24 (bool $bi, pid $i) [P_setbi_24 [$i] >= 1 && P_b [$i * 2 + $bi] >= 1] {
		P_setbi_24 [$i] = P_setbi_24 [$i] - 1 ;
		P_b [$i * 2 + $bi] = P_b [$i * 2 + $bi] - 1 ;
		P_start_1 [$i] = P_start_1 [$i] + 1 ;
		P_b [$i * 2 + 0] = P_b [$i * 2 + 0] + 1 ;
	}
	TRANSIENT = False ;
}