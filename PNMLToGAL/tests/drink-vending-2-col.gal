typedef Quality = 0 .. 7 ;
typedef Options = 0 .. 1 ;
typedef Products = 0 .. 1 ;
GAL Document {
	array [ 8 ] ready = (0, 0, 0, 0, 0, 0, 0, 0) ;
	array [ 8 ] wait = (1, 1, 1, 1, 1, 1, 1, 1) ;
	array [ 2 ] theProducts = (1, 1) ;
	array [ 2 ] productSlots = (0, 0) ;
	array [ 2 ] theOptions = (1, 1) ;
	array [ 2 ] optionSlots = (0, 0) ;

	transition elaborate3 (Quality $x, Options $o3, Products $p, Options $o2,
	Options $o1) [ True && theOptions [ $o3 ] >= 1 && theOptions [ $o2 ] >= 1 &&
	theOptions [ $o1 ] >= 1 && theProducts [ $p ] >= 1 && wait [ $x ] >= 1 ] {
		theOptions [ $o2 ] = theOptions [ $o2 ] - 1 ;
		theOptions [ $o1 ] = theOptions [ $o1 ] - 1 ;
		theOptions [ $o3 ] = theOptions [ $o3 ] - 1 ;
		theProducts [ $p ] = theProducts [ $p ] - 1 ;
		wait [ $x ] = wait [ $x ] - 1 ;
		productSlots [ $p ] = productSlots [ $p ] + 1 ;
		optionSlots [ $o1 ] = optionSlots [ $o1 ] + 1 ;
		optionSlots [ $o3 ] = optionSlots [ $o3 ] + 1 ;
		optionSlots [ $o2 ] = optionSlots [ $o2 ] + 1 ;
		ready [ $x ] = ready [ $x ] + 1 ;
	}

	transition elaborate2 (Quality $x, Products $p, Options $o2, Options $o1) [
	True && theOptions [ $o2 ] >= 1 && theOptions [ $o1 ] >= 1 && theProducts [
	$p ] >= 1 && wait [ $x ] >= 1 ] {
		theOptions [ $o1 ] = theOptions [ $o1 ] - 1 ;
		theOptions [ $o2 ] = theOptions [ $o2 ] - 1 ;
		theProducts [ $p ] = theProducts [ $p ] - 1 ;
		wait [ $x ] = wait [ $x ] - 1 ;
		optionSlots [ $o2 ] = optionSlots [ $o2 ] + 1 ;
		optionSlots [ $o1 ] = optionSlots [ $o1 ] + 1 ;
		productSlots [ $p ] = productSlots [ $p ] + 1 ;
		ready [ $x ] = ready [ $x ] + 1 ;
	}

	transition elaborate1 (Quality $x, Products $p, Options $o1) [ True &&
	theProducts [ $p ] >= 1 && theOptions [ $o1 ] >= 1 && wait [ $x ] >= 1 ] {
		theProducts [ $p ] = theProducts [ $p ] - 1 ;
		theOptions [ $o1 ] = theOptions [ $o1 ] - 1 ;
		wait [ $x ] = wait [ $x ] - 1 ;
		productSlots [ $p ] = productSlots [ $p ] + 1 ;
		optionSlots [ $o1 ] = optionSlots [ $o1 ] + 1 ;
		ready [ $x ] = ready [ $x ] + 1 ;
	}

	transition serve (Quality $x) [ ready [ $x ] >= 1 ] {
		ready [ $x ] = ready [ $x ] - 1 ;
		wait [ $x ] = wait [ $x ] + 1 ;
	}

	transition elaborate0 (Quality $x, Products $p) [ True && wait [ $x ] >= 1 &&
	theProducts [ $p ] >= 1 ] {
		wait [ $x ] = wait [ $x ] - 1 ;
		theProducts [ $p ] = theProducts [ $p ] - 1 ;
		ready [ $x ] = ready [ $x ] + 1 ;
		productSlots [ $p ] = productSlots [ $p ] + 1 ;
	}

	transition addProduct (Products $p) [ productSlots [ $p ] >= 1 ] {
		productSlots [ $p ] = productSlots [ $p ] - 1 ;
		theProducts [ $p ] = theProducts [ $p ] + 1 ;
	}

	transition addOption (Options $o1) [ optionSlots [ $o1 ] >= 1 ] {
		optionSlots [ $o1 ] = optionSlots [ $o1 ] - 1 ;
		theOptions [ $o1 ] = theOptions [ $o1 ] + 1 ;
	}
	TRANSIENT = False ;
}